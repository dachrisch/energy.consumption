# User Guide: Filtering Your Energy Readings

## Overview

The Readings page filters help you quickly find specific energy meter readings by type (Power or Gas) and date range. With clear visual indicators and an intuitive interface, you can easily narrow down your data to see exactly what you need.

**What You Can Do:**
- View only Power readings or only Gas readings
- Filter readings by date range (start date, end date, or both)
- See at a glance how many filters are active
- Reset all filters with a single click
- Use filters on any device (mobile, tablet, or desktop)

---

## Getting Started

### Accessing the Filters

1. Navigate to the **Readings** page from the main menu
2. The filter controls appear at the top of the readings table
3. Filters are always visible - no need to expand or click anything

**What You'll See:**
- **Type** section: Three buttons (All, Power, Gas)
- **Date Range** section: Date picker input
- **Reset** button: Clear all filters at once
- **Active Filter Badge**: Number showing how many filters are active

---

## Filter Types

### Type Filter

Filter your readings by energy type.

**Options:**
- **All**: Shows both Power and Gas readings (default)
- **Power**: Shows only electricity meter readings
- **Gas**: Shows only gas meter readings

**Visual Design:**
- Selected option has a colored background
- Unselected options have a transparent background with border
- Icons help identify Power (lightning bolt) and Gas (flame)

### Date Range Filter

Filter readings by when they were recorded.

**You Can:**
- Select a start date only (shows readings from that date forward)
- Select an end date only (shows readings up to that date)
- Select both dates (shows readings within that range)
- Leave blank to see all dates

**Date Format:** Year-Month-Day (e.g., 2025-01-15)

---

## Using Filters

### Filtering by Type

**To view only Power readings:**
1. Click the **Power** button in the Type section
2. The button highlights to show it's selected
3. The table updates to show only Power readings
4. A badge with "1" appears next to the Reset button

**To view only Gas readings:**
1. Click the **Gas** button in the Type section
2. The button highlights to show it's selected
3. The table updates to show only Gas readings
4. A badge with "1" appears next to the Reset button

**To view all readings:**
1. Click the **All** button in the Type section
2. The table shows both Power and Gas readings
3. If no date range is set, the badge disappears

### Filtering by Date Range

**To select a date range:**
1. Click the **Date Range** input field
2. A calendar appears
3. Click the start date
4. Click the end date (or leave empty to filter from start date only)
5. The table updates to show readings within that range
6. A badge appears or updates to show active filters

**Keyboard Input:**
- You can type dates directly: `2025-01-15`
- Format must be Year-Month-Day

**Quick Selection:**
- Use the month/year navigation arrows at the top of the calendar
- Click "Today" to jump to the current date (if available in your date picker)

### Combining Filters

You can use both filters together for more specific results.

**Example: View Power readings from January 2025**
1. Click **Power** in the Type section
2. Click the Date Range field
3. Select January 1, 2025 as the start date
4. Select January 31, 2025 as the end date
5. The badge shows "2" (both filters active)
6. Table displays only Power readings from January 2025

---

## Active Filter Indicator Badge

### What Is It?

A small colored badge appears next to the Reset button showing the number of active filters.

**Badge Shows:**
- **No Badge**: No filters active (viewing all data)
- **"1"**: One filter active (either Type OR Date Range)
- **"2"**: Both filters active (Type AND Date Range)

**Why It's Helpful:**
- See at a glance if filters are applied
- Understand why the table might look filtered
- Reminder that you're not viewing all your data

### Understanding the Count

**Type Filter:**
- Selecting "All" = NOT counted (default state)
- Selecting "Power" or "Gas" = Counted as 1 filter

**Date Range Filter:**
- No dates selected = NOT counted (default state)
- Start date only = Counted as 1 filter
- End date only = Counted as 1 filter
- Both dates = Still counted as 1 filter (date range is one filter)

**Maximum Count:** 2 (Type + Date Range)

---

## Resetting Filters

### How to Clear All Filters

Click the **Reset** button (shows a circular arrow icon and "Reset" text) to instantly:
- Set Type back to "All"
- Clear both start and end dates
- Remove the active filter badge
- Show all your readings in the table

**When to Reset:**
- You want to see all your data again
- You want to start fresh with new filters
- You're not sure which filters are applied

**Note:** The Reset button is always clickable, even when no filters are active. Clicking it when no filters are set does no harm.

---

## Common Use Cases

### Use Case 1: View Only Power Readings

**Scenario:** You want to check only your electricity consumption.

**Steps:**
1. Click **Power** in the Type filter
2. Table shows only Power readings
3. Badge shows "1"

**Result:** All Gas readings are hidden; only Power readings visible.

---

### Use Case 2: View Readings from Last Month

**Scenario:** You want to review readings from January 2025.

**Steps:**
1. Leave Type filter on **All** (to see both Power and Gas)
2. Click the **Date Range** field
3. Select **January 1, 2025** as start date
4. Select **January 31, 2025** as end date
5. Badge shows "1" (only date range active)

**Result:** Table shows both Power and Gas readings, but only from January 2025.

---

### Use Case 3: View Gas Readings for a Specific Week

**Scenario:** You want to check your Gas readings from the first week of February 2025.

**Steps:**
1. Click **Gas** in the Type filter
2. Click the **Date Range** field
3. Select **February 1, 2025** as start date
4. Select **February 7, 2025** as end date
5. Badge shows "2" (Type + Date Range both active)

**Result:** Table shows only Gas readings from February 1-7, 2025.

---

### Use Case 4: View All Recent Readings (from a Date)

**Scenario:** You want to see all readings since March 1, 2025.

**Steps:**
1. Leave Type filter on **All**
2. Click the **Date Range** field
3. Select **March 1, 2025** as start date
4. Leave end date empty (or select today's date)
5. Badge shows "1"

**Result:** Table shows all readings (Power and Gas) from March 1, 2025 onward.

---

### Use Case 5: View Readings Up to a Specific Date

**Scenario:** You want to see all readings recorded before February 1, 2025.

**Steps:**
1. Leave Type filter on **All**
2. Click the **Date Range** field
3. Leave start date empty
4. Select **January 31, 2025** as end date
5. Badge shows "1"

**Result:** Table shows all readings (Power and Gas) recorded up to January 31, 2025.

---

### Use Case 6: Clear Filters After Viewing Specific Data

**Scenario:** After viewing filtered data, you want to see everything again.

**Steps:**
1. Click the **Reset** button
2. Type filter returns to "All"
3. Date range clears
4. Badge disappears
5. Table shows all your readings

**Result:** Full dataset is visible again.

---

## Mobile Usage

### Mobile Layout

On mobile devices (phones and small tablets), the filters automatically adjust:

**Layout Changes:**
- Filters stack vertically instead of horizontally
- Type buttons appear first
- Date range picker appears below
- Reset button appears at the bottom
- All filters remain visible (no collapse/expand)

**Touch-Friendly:**
- All buttons are large enough to tap comfortably (44x44 pixels minimum)
- Adequate spacing between controls prevents accidental taps
- Date picker calendar is optimized for touch selection

### Mobile Tips

**Date Selection on Mobile:**
- Tap the Date Range field to open the calendar
- Use the month/year arrows to navigate quickly
- Tap dates directly on the calendar
- You can also type dates using the on-screen keyboard

**Scrolling:**
- Scroll down to see the filtered readings table
- Filters stay at the top (no sticky behavior)
- Use your device's browser "back to top" feature to return to filters

**Orientation:**
- Works in both portrait and landscape modes
- Landscape mode may show filters side-by-side on larger phones
- Optimal experience in portrait mode on phones

---

## Keyboard Navigation

### Accessibility Shortcuts

**Tab Key:**
- Press **Tab** to move between filter controls
- Tab order: Type buttons → Date Range field → Reset button

**Arrow Keys:**
- Use **Left/Right arrows** to navigate between Type filter options (All/Power/Gas)
- Use **Up/Down arrows** within the date picker calendar

**Enter/Space:**
- Press **Enter** or **Space** to activate buttons
- Works for Type filter buttons and Reset button

**Date Picker Navigation:**
- Press **Tab** to enter the Date Range field
- Type dates directly: `2025-01-15`
- Or press **Enter** to open the calendar
- Use **Arrow keys** to navigate calendar dates
- Press **Enter** to select a date

### Screen Reader Support

**What Screen Readers Announce:**
- Type filter: "All radio button, checked" or "Power radio button" or "Gas radio button"
- Date range: "Date range, edit text"
- Reset button: "Reset all filters, button"
- Badge: Number value (e.g., "2")

**Labels:**
- Each filter section has a clear label ("Type", "Date Range")
- Reset button has descriptive text ("Reset all filters")

---

## Tips and Tricks

### General Tips

1. **Check the Badge:** If the table looks empty or missing data, check if filters are active by looking at the badge.

2. **Reset Frequently:** Use the Reset button often to return to the full dataset and start fresh.

3. **Combine Wisely:** Combining Type and Date Range filters can narrow results significantly. If you see no results, your filters might be too specific.

4. **Date Range Flexibility:** You don't need both start and end dates. Use just one for more flexible filtering.

5. **Type Filter Default:** "All" is the default. You'll see both Power and Gas readings unless you specifically select one type.

### Performance Tips

**For Large Datasets:**
- Use date range filters to reduce the number of readings displayed
- Specific type filters (Power or Gas) load faster than All
- Narrow date ranges improve table rendering speed

**For Quick Checks:**
- Use Type filter only for a quick view of one energy type
- Reset to see full data before exporting or printing

### Data Interpretation Tips

**When Filtering by Date:**
- Remember the date represents when you entered the reading, not necessarily when it was measured
- Check that your date range includes both ends if you need complete monthly data

**When Filtering by Type:**
- Power and Gas readings may have different frequencies (e.g., monthly vs. weekly)
- Don't expect the same number of readings for each type

---

## Troubleshooting

### Problem: Table Shows No Results

**Possible Causes:**
- Filters are too restrictive (e.g., no readings exist for that date range)
- Type filter is set to an energy type you don't track
- Date range is invalid (end date before start date)

**Solutions:**
1. Check the active filter badge - is it showing "1" or "2"?
2. Click **Reset** to clear all filters and see if data appears
3. Adjust date range to be broader (e.g., entire year instead of one week)
4. Set Type filter to **All** to see both Power and Gas readings
5. Verify you have readings for the selected time period on the Dashboard

---

### Problem: Badge Shows Wrong Number

**Possible Causes:**
- Misunderstanding of how filters are counted
- Visual confusion between badge and other UI elements

**Solutions:**
1. Badge only counts active filters (not "All" for Type, not empty Date Range)
2. Date Range counts as 1 filter even if both start and end dates are set
3. Maximum badge number is 2 (Type + Date Range)
4. If badge is missing, no filters are active
5. Try clicking Reset and re-applying filters to see the count update

---

### Problem: Date Picker Not Working on Mobile

**Possible Causes:**
- Browser compatibility issue
- Touch interaction problem
- Date picker calendar not opening

**Solutions:**
1. Try typing the date directly in Year-Month-Day format: `2025-01-15`
2. Ensure you're tapping directly on the input field (not the label)
3. If calendar doesn't open, try typing the date instead
4. Check that your mobile browser is up-to-date
5. Try rotating device (portrait vs. landscape)
6. If all else fails, use desktop browser for date selection

---

### Problem: Filters Reset After Leaving Page

**Expected Behavior:** Filters do NOT persist when you navigate away from the Readings page.

**Why:**
- Filters are temporary for your current viewing session
- Leaving the page clears all filter settings
- This is intentional to avoid confusion on return visits

**Workaround:**
- If you need to preserve a filtered view, consider exporting the data (if export feature is available)
- Re-apply filters when you return to the Readings page
- Note: Filter persistence may be added in a future update

---

### Problem: Can't See Reset Button on Mobile

**Possible Causes:**
- Need to scroll down
- Screen size too small
- Button not visible in current layout

**Solutions:**
1. Scroll down slightly - Reset button is at the bottom of the filter section
2. On very small screens, the layout stacks vertically - scroll to see Reset
3. Rotate device to landscape mode for more horizontal space
4. Zoom out slightly if browser zoom is increased

---

### Problem: Type Filter Doesn't Change Table

**Possible Causes:**
- JavaScript error in browser
- Network connection issue
- Browser cache problem

**Solutions:**
1. Refresh the page (browser reload)
2. Clear browser cache and reload
3. Check browser console for errors (press F12, check Console tab)
4. Try a different browser
5. Ensure JavaScript is enabled in browser settings
6. Check internet connection is stable

---

### Problem: Date Range Includes Wrong Readings

**Possible Causes:**
- Misunderstanding of date range behavior
- Readings dated outside expected range

**Solutions:**
1. Date range is inclusive: Start date TO end date (includes both)
2. Verify the actual dates on your readings - they might be different than expected
3. Check that you entered dates in correct format: `YYYY-MM-DD`
4. Ensure start date is before end date
5. Try clearing date range and re-entering dates

---

## Best Practices

### For Regular Use

1. **Start Broad, Then Narrow:** Begin with "All" and no date range, then filter down as needed.

2. **Use Type Filter for Quick Checks:** If you just want to see Power or Gas, type filter is the fastest way.

3. **Date Range for Billing Periods:** Use date ranges to match your utility billing periods for accurate comparisons.

4. **Reset Between Sessions:** Click Reset before starting a new analysis to ensure you're starting fresh.

5. **Check Badge First:** Before wondering why data looks incomplete, glance at the badge to see if filters are active.

### For Data Analysis

1. **Compare Periods:** Apply the same date range to different types (Power vs. Gas) to compare consumption.

2. **Track Trends:** Use monthly date ranges to review trends month-by-month.

3. **Isolate Anomalies:** If you see unusual data on the Dashboard, use filters to isolate specific dates or types.

4. **Export Filtered Data:** If the app supports export, filter first to export only the data you need.

### For Mobile Users

1. **Portrait Mode:** Use portrait mode on phones for easier filter interaction.

2. **Type Filter First:** Select Type filter before opening date picker to avoid keyboard issues.

3. **Zoom If Needed:** If touch targets feel small, zoom in slightly.

4. **One Filter at a Time:** On mobile, apply one filter, check results, then apply second filter.

---

## Limitations

### Current Limitations

1. **No Filter Presets:** You cannot save frequently-used filter combinations (e.g., "Last 30 days").

2. **No Advanced Date Filters:** No quick options like "This Month", "Last Week", "Last 7 Days".

3. **No Multiple Date Ranges:** You can only select one continuous date range, not multiple separate ranges.

4. **No Filter Persistence:** Filters reset when you leave the Readings page.

5. **No Amount Range Filter:** You cannot filter by reading amount (e.g., readings over 100 kWh).

6. **No Export Filtered Data:** Export functionality (if available) may not respect filters.

### Why These Limitations Exist

These features are not currently implemented to keep the filter interface simple and focused on the most common use cases. They may be added in future updates based on user feedback.

---

## Screenshots

**Note:** The following describes what screenshots would show if included.

### Screenshot 1: Filters with No Active Filters
**Description:** Shows the filter section with Type set to "All", empty Date Range, and no badge visible. Reset button is present but badge is hidden.

### Screenshot 2: Type Filter Active (Power Selected)
**Description:** Shows Type filter with "Power" button highlighted, Date Range empty, and badge showing "1" next to Reset button.

### Screenshot 3: Date Range Active
**Description:** Shows Type filter on "All", Date Range field filled with "2025-01-01 to 2025-01-31", and badge showing "1".

### Screenshot 4: Both Filters Active
**Description:** Shows Type filter on "Gas", Date Range filled, and badge showing "2". Table below displays only filtered Gas readings.

### Screenshot 5: Mobile Layout
**Description:** Shows filters stacked vertically on a mobile device. Type buttons at top, Date Range below, Reset button at bottom. All elements are touch-friendly sized.

### Screenshot 6: Date Picker Calendar Open
**Description:** Shows the calendar popup opened from the Date Range field, displaying month view with dates selectable.

---

## Related Documentation

### For Users
- **Dashboard Guide:** Learn how to view energy consumption visualizations
- **Add Data Guide:** Learn how to add new meter readings
- **Contracts Guide:** Learn how to manage energy contracts

### For Developers
- **Technical Requirements:** `feature-dev/filter-redesign/requirements.md`
- **Implementation Details:** `feature-dev/filter-redesign/implementation-notes.md`
- **Test Documentation:** `feature-dev/filter-redesign/test-scenarios.md`
- **QA Verification:** `feature-dev/filter-redesign/qa-report.md`

---

## Support

### Getting Help

**If You're Stuck:**
1. Review the Troubleshooting section above
2. Check the Tips and Tricks section for helpful hints
3. Try clicking the Reset button to start fresh
4. Refresh the page to clear any temporary issues

**Common Questions:**
- See the Best Practices section for recommended usage patterns
- Review the Common Use Cases section for example scenarios
- Check Limitations section to understand what filters cannot do

**For Technical Issues:**
- Contact your application administrator
- Report bugs or issues through your organization's support channels
- Provide details: what filter you applied, expected behavior, actual behavior

---

## Feedback

### We Want to Hear From You

**Let us know:**
- Which filters you use most frequently
- Whether you'd like filter presets (e.g., "Last 30 Days")
- If you'd like filters to persist across page visits
- Any other filter features that would help you

**Your feedback helps us improve the Readings page filters in future updates.**

---

## Version Information

- **Feature Version:** 2.3.0
- **Release Date:** 2025-11-04
- **Document Version:** 1.0
- **Last Updated:** 2025-11-04

---

## Summary

The Readings page filters provide a simple, intuitive way to focus on specific energy data. With Type and Date Range filters, an active filter indicator badge, and a one-click reset, you can quickly navigate your energy readings to find exactly what you need.

**Key Takeaways:**
- Use **Type filter** to view Power, Gas, or All readings
- Use **Date Range** to narrow by time period
- Check the **badge** to see how many filters are active (0-2)
- Click **Reset** to clear all filters instantly
- Filters work seamlessly on mobile, tablet, and desktop
- All controls are keyboard accessible and screen-reader friendly

Happy filtering!
